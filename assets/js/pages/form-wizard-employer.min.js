var FormWizard={init:function(){if(jQuery().bootstrapWizard){$("#country_list").select2({placeholder:"Select",allowClear:!0,formatResult:i,width:"auto",formatSelection:i,escapeMarkup:function(e){return e}});var e=$("#submit_form"),r=$(".alert-danger",e),o=$(".alert-success",e);e.validate({doNotHideMessage:!0,errorElement:"span",errorClass:"help-block help-block-error",focusInvalid:!1,rules:{username:{minlength:5,required:!0},password:{minlength:5,required:!0},rpassword:{minlength:5,required:!0,equalTo:"#submit_form_password"},fullname:{required:!0},email:{required:!0,email:!0},phone:{required:!0},gender:{required:!0},address:{required:!0},city:{required:!0},country:{required:!0},card_name:{required:!0},card_number:{minlength:16,maxlength:16,required:!0},card_cvc:{digits:!0,required:!0,minlength:3,maxlength:4},card_expiry_date:{required:!0},"payment[]":{required:!0,minlength:1}},messages:{"payment[]":{required:"Please select at least one option",minlength:jQuery.validator.format("Please select at least one option")}},errorPlacement:function(e,r){"gender"==r.attr("name")?e.insertAfter("#form_gender_error"):"payment[]"==r.attr("name")?e.insertAfter("#form_payment_error"):e.insertAfter(r)},invalidHandler:function(e,t){o.hide(),r.show(),App.scrollTo(r,-200)},highlight:function(e){$(e).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error")},success:function(e){"gender"==e.attr("for")||"payment[]"==e.attr("for")?(e.closest(".form-group").removeClass("has-error").addClass("has-success"),e.remove()):e.addClass("valid").closest(".form-group").removeClass("has-error").addClass("has-success")},submitHandler:function(e){o.show(),r.hide(),e[0].submit()}});var t=function(e,r,o){var t=r.find("li").length,i=o+1;jQuery("li",$("#formEmployerWizard")).removeClass("done");for(var n=r.find("li"),s=0;s<o;s++)jQuery(n[s]).addClass("done");1===i?($("#formEmployerWizard").find(".button-submit").hide(),$("#formEmployerWizard").find(".button-previous").hide(),$("#formEmployerWizard").find(".button-next").show()):i===t-1?($("#formEmployerWizard").find(".button-previous").show(),$("#formEmployerWizard").find(".button-submit").show(),$("#formEmployerWizard").find(".button-next").hide()):i===t?($("#formEmployerWizard").find(".button-previous").hide(),$("#formEmployerWizard").find(".button-submit").hide(),$("#formEmployerWizard").find(".button-next").hide()):($("#formEmployerWizard").find(".button-submit").hide(),$("#formEmployerWizard").find(".button-next").show(),$("#formEmployerWizard").find(".button-previous").show()),App.scrollTo($(".page-title"))};$("#formEmployerWizard").bootstrapWizard({nextSelector:".button-next , .button-submit",previousSelector:".button-previous",onTabClick:function(e,r,o,t){return!1},onNext:function(i,n,s){if(o.hide(),r.hide(),0==e.valid())return!1;t(0,n,s)},onPrevious:function(e,i,n){o.hide(),r.hide(),t(0,i,n)},onTabShow:function(e,r,o){var t=(o+1)/r.find("li").length*100;$("#formEmployerWizard").find(".progress-bar").css({width:t+"%"})}}),$("#formEmployerWizard").find(".button-previous").hide(),$("#formEmployerWizard").find(".button-next").show(),$("#formEmployerWizard").find(".button-submit").hide(),$("#country_list",e).change(function(){e.validate().element($(this))})}function i(e){return e.id?"<img class='flag' src='../../assets/global/img/flags/"+e.id.toLowerCase()+".png'/>&nbsp;&nbsp;"+e.text:e.text}}};jQuery(document).ready(function(){FormWizard.init()});