var FormImageCrop=function(){var t=function(){$(window).width()<=1024&&$(window).width()>=678?$(".responsive-1024").each(function(){$(this).attr("data-class",$(this).attr("class")),$(this).attr("class","responsive-1024 col-md-12")}):$(".responsive-1024").each(function(){$(this).attr("data-class")&&($(this).attr("class",$(this).attr("data-class")),$(this).removeAttr("data-class"))})};return{init:function(){jQuery().Jcrop&&(App.addResizeHandler(t),t(),$("#demo1").Jcrop(),function(){var t;$("#demo2").Jcrop({onChange:e,onSelect:e,onRelease:function(){$("#coords input").val("")}},function(){t=this}),$("#coords").on("change","input",function(e){var o=$("#x1").val(),a=$("#x2").val(),n=$("#y1").val(),i=$("#y2").val();t.setSelect([o,n,a,i])});function e(t){$("#x1").val(t.x),$("#y1").val(t.y),$("#x2").val(t.x2),$("#y2").val(t.y2),$("#w").val(t.w),$("#h").val(t.h)}}(),function(){var t,e,o,a=$("#preview-pane"),n=$("#preview-pane .preview-container"),i=$("#preview-pane .preview-container img"),c=n.width(),s=n.height();console.log("init",[c,s]),$("#demo3").Jcrop({onChange:r,onSelect:r,aspectRatio:c/s},function(){var n=this.getBounds();e=n[0],o=n[1],t=this,a.appendTo(t.ui.holder)});function r(t){if(parseInt(t.w)>0){var a=c/t.w,n=s/t.h;i.css({width:Math.round(a*e)+"px",height:Math.round(n*o)+"px",marginLeft:"-"+Math.round(a*t.x)+"px",marginTop:"-"+Math.round(n*t.y)+"px"})}}}(),function(){var t;$("#demo4").Jcrop({bgFade:!0,bgOpacity:.2,setSelect:[60,70,540,330]},function(){t=this}),$("#fadetog").change(function(){t.setOptions({bgFade:this.checked})}).attr("checked",!0),$("#shadetog").change(function(){this.checked?$("#shadetxt").slideDown():$("#shadetxt").slideUp(),t.setOptions({shade:this.checked})}).attr("checked",!1);var e={bgc_buttons:"Change bgColor",bgo_buttons:"Change bgOpacity",anim_buttons:"Animate Selection"},o={anim1:[217,122,382,284],anim2:[20,20,580,380],anim3:[24,24,176,376],anim4:[347,165,550,355],anim5:[136,55,472,183]},a={Low:.2,Mid:.5,High:.8,Full:1},n={R:"#900",B:"#4BB6F0",Y:"#F0B207",G:"#46B81C",W:"white",K:"black"};for(i in e)c=i,s=e[i],$("#interface").prepend($("<fieldset></fieldset>").attr("id",c).append($("<h4></h4>").append(s),'<div class="btn-toolbar"><div class="btn-group"></div></div>'));var c,s;function r(t){var e=$("<button />").addClass("btn small");return t&&e.append(t),e}var l=1;for(i in o)$("#anim_buttons .btn-group").append(r(l++).click((d=o[i],function(e){return $(e.target).addClass("active"),t.animateTo(d,function(){$(e.target).closest(".btn-group").find(".active").removeClass("active")}),!1}))," ");var d;$("#anim_buttons .btn-group").append(r("Bye!").click(function(e){return $(e.target).addClass("active"),t.animateTo([300,200,300,200],function(){this.release(),$(e.target).closest(".btn-group").find(".active").removeClass("active")}),!1}));for(i in a)$("#bgo_buttons .btn-group").append(r(i).click(u("bgOpacity",a[i]))," ");for(i in n)$("#bgc_buttons .btn-group").append(r(i).css({background:n[i],color:"K"==i||"R"==i?"white":"black"}).click(u("bgColor",n[i]))," ");function u(e,o){return function(a){$(a.target).closest(".btn-group").find(".active").removeClass("active"),$(a.target).addClass("active");var n={};return n[e]=o,t.setOptions(n),!1}}$("#bgo_buttons .btn:first,#bgc_buttons .btn:last").addClass("active"),$("#interface").show()}(),function(){var t;e();function e(){$(".requiresjcrop").hide(),$("#demo5").Jcrop({onRelease:a},function(){(t=this).animateTo([100,100,400,300]),$("#can_click,#can_move,#can_size").attr("checked","checked"),$("#ar_lock,#size_lock,#bg_swap").attr("checked",!1),$(".requiresjcrop").show()})}function o(){var e=t.getBounds();return[Math.round(Math.random()*e[0]),Math.round(Math.random()*e[1]),Math.round(Math.random()*e[0]),Math.round(Math.random()*e[1])]}function a(){t.setOptions({allowSelect:!0}),$("#can_click").attr("checked",!1)}$("#setSelect").click(function(e){t.setSelect(o())}),$("#animateTo").click(function(e){t.animateTo(o())}),$("#release").click(function(e){t.release()}),$("#disable").click(function(e){t.disable(),$("#enable").show(),$(".requiresjcrop").hide()}),$("#enable").click(function(e){t.enable(),$("#enable").hide(),$(".requiresjcrop").show()}),$("#rehook").click(function(t){return $("#rehook,#enable").hide(),e(),$("#unhook,.requiresjcrop").show(),!1}),$("#unhook").click(function(e){return t.destroy(),$("#unhook,#enable,.requiresjcrop").hide(),$("#rehook").show(),!1}),$("#img1").click(function(e){return $(this).addClass("active").closest(".btn-group").find("button.active").not(this).removeClass("active"),t.setImage("../../assets/global/plugins/jcrop/demos/demo_files/sago.jpg"),t.setOptions({bgOpacity:.6}),!1}),$("#img2").click(function(e){return $(this).addClass("active").closest(".btn-group").find("button.active").not(this).removeClass("active"),t.setImage("../../assets/global/plugins/jcrop/demos/demo_files/pool.jpg"),t.setOptions({bgOpacity:.6}),!1}),$("#img3").click(function(e){return $(this).addClass("active").closest(".btn-group").find("button.active").not(this).removeClass("active"),t.setImage("../../assets/global/plugins/jcrop/demos/demo_files/sago.jpg",function(){this.setOptions({bgOpacity:1,outerImage:"../../assets/global/plugins/jcrop/demos/demo_files/sagomod.jpg"}),this.animateTo(o())}),!1}),$("#can_click").change(function(e){t.setOptions({allowSelect:!!this.checked}),t.focus()}),$("#can_move").change(function(e){t.setOptions({allowMove:!!this.checked}),t.focus()}),$("#can_size").change(function(e){t.setOptions({allowResize:!!this.checked}),t.focus()}),$("#ar_lock").change(function(e){t.setOptions(this.checked?{aspectRatio:4/3}:{aspectRatio:0}),t.focus()}),$("#size_lock").change(function(e){t.setOptions(this.checked?{minSize:[80,80],maxSize:[350,350]}:{minSize:[0,0],maxSize:[0,0]}),t.focus()})}(),function(){var t;$("#demo6").Jcrop({bgOpacity:.5,bgColor:"white",addClass:"jcrop-light"},function(){(t=this).setSelect([130,65,480,350]),t.setOptions({bgFade:!0}),t.ui.selection.addClass("jcrop-selection")}),$("#buttonbar").on("click","button",function(e){var o=$(this),a=o.closest(".btn-group");a.find("button.active").removeClass("active"),o.addClass("active"),a.find("[data-setclass]").each(function(){var e=$(this),o=e.data("setclass");if(e.hasClass("active"))switch(t.ui.holder.addClass(o),o){case"jcrop-light":t.setOptions({bgColor:"white",bgOpacity:.5});break;case"jcrop-dark":t.setOptions({bgColor:"black",bgOpacity:.4});break;case"jcrop-normal":t.setOptions({bgColor:$.Jcrop.defaults.bgColor,bgOpacity:$.Jcrop.defaults.bgOpacity})}else t.ui.holder.removeClass(o)})})}(),function(){var t=13,e=7,o=487,a=107;$("#demo7").Jcrop({bgFade:!0,setSelect:[t,e,o,a]})}(),function(){$("#demo8").Jcrop({aspectRatio:1,onSelect:function(t){$("#crop_x").val(t.x),$("#crop_y").val(t.y),$("#crop_w").val(t.w),$("#crop_h").val(t.h)}});$("#demo8_form").submit(function(){return!!parseInt($("#crop_w").val())||(alert("Please select a crop region then press submit."),!1)})}())}}}();jQuery(document).ready(function(){FormImageCrop.init()});